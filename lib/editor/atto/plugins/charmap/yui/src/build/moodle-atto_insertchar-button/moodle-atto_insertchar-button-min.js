YUI.add("moodle-atto_charmap-button",function(e,t){M.atto_charmap=M.atto_charmap||{dialogue:null,selection:null,init:function(e){var t=function(e,t){e.preventDefault(),M.editor_atto.is_active(t)||M.editor_atto.focus(t),M.atto_charmap.selection=M.editor_atto.get_selection();if(M.atto_charmap.selection===!1)return;var n;M.atto_charmap.dialogue?n=M.atto_charmap.dialogue:(n=new M.core.dialogue({visible:!1,modal:!0,close:!0,draggable:!0}),n.set("bodyContent",M.atto_charmap.getDialogueContent(t)),n.set("headerContent",M.util.get_string("charmapacter","atto_charmap")),n.render(),n.centerDialogue(),M.atto_charmap.dialogue=n),n.show()},n=M.util.image_url("e/special_character","core");M.editor_atto.add_toolbar_button(e.elementid,"charmap",n,e.group,t)},getDialogueContent:function(t){var n=["copy","eacute"],r,i,s="";for(var o in n)r=n[o],s+='<button class="atto_charmap_character" data-character="&'+e.Escape.html(r)+';">'+"&"+e.Escape.html(r)+";</button>";return i=e.Node.create(s),e.delegate("click",M.atto_charmap.insertChar,i,".atto_charmap_character",this,t),i},insertChar:function(e,t){var n=e.currentTarget,r=n.getData("character");e.preventDefault(),e.stopPropagation(),M.atto_charmap.dialogue.hide(),M.editor_atto.set_selection(M.atto_charmap.selection),document.selection&&document.selection.createRange().pasteHTML?document.selection.createRange().pasteHTML(r):document.execCommand("insertHTML",!1,r),M.editor_atto.text_updated(t)}}},"@VERSION@",{requires:["node","escape"]});

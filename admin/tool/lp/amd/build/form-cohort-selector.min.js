define(["jquery","core/ajax"],function(a,b){return{processResults:function(b,c){var d=[];return a.each(c,function(b,c){var e=c.name;c.idnumber.length>0&&(e+=" ("+a("<div/>").text(c.idnumber).html()+")"),d.push({value:c.id,label:e})}),d},transport:function(c,d,e,f){var g,h=parseInt(a(c).data("contextid"),10);g=b.call([{methodname:"tool_lp_search_cohorts",args:{query:d,context:{contextid:h}}}]),g[0].then(function(a){e(a.cohorts)},f)}}});